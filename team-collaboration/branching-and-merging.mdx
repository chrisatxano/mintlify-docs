---
---
icon: code-branch
---

# 'Branching & Merging'

A Branch is a copy of a workspace's business logic (APIs, Functions, Addons, and Tasks). They are most useful for testing and developing new versions of your app without affecting your customers' primary experience.

You can create new Branches and select which Branch to make a copy of, choose which Branch to make edits to, and select which Branch you want to be live for your API.

**Branches can also** [[**merge**](branching-and-merging.md#merging) **from a source Branch to a destination Branch to make managing development, test, and live environments as seamless as ever**.&#x20;

{% embed url="https://youtu.be/3qwu_ANWHl4" %}
Branches tutorial before merge capabilities were introduced.
{% endembed %}



Your initial Branch will be considered v1 of your business logic. Below your workspace name, you will be able to identify which Branch you are currently editing.

<figure><img src="..//assets/CleanShot 2023-07-31 at 11.24.53@2x.png" alt="" width="328"><figcaption><p>Your root branch is considered v1, and you will start with v1 by default.</p></figcaption></figure>

## Create a New Branch

Select the Branch identifier located underneath the workspace name.

<figure><img src="..//assets/CleanShot 2023-07-31 at 11.26.25@2x.png" alt="" width="296"><figcaption></figcaption></figure>

This will allow you to see and change which Branch you are currently editing and which is live for your users, and allow you to add a new Branch.

<figure><img src="..//assets/CleanShot 2023-07-31 at 11.27.05@2x.png" alt="" width="375"><figcaption></figcaption></figure>

When you select Add new Branch you will be able to choose a source Branch to make a copy from, the name of your new Branch, set a color, and add a description.

<figure><img src="..//assets/CleanShot 2023-07-31 at 11.27.35@2x.png" alt="" width="375"><figcaption></figcaption></figure>

The color you select will be reflected in different elements of the Xano UI to represent and easily inform which branch you are currently working on.

Adding a new Branch makes a copy of the source Branch at that given time. So for example, if you create v2 from source Branch v1, you will have all the same business logic (APIs, Functions, Addons, and Tasks).&#x20;

## Change which Branch to Edit and Set Live

The Branch you are currently editing will be identified underneath the workspace name on the left menu column and in the top banner.

<figure><img src="..//assets/CleanShot 2023-07-31 at 11.30.33@2x.png" alt=""><figcaption></figcaption></figure>

To change which branch you are editing, click on the Branch name to open up the menu of the different Branches in your workspace.

<figure><img src="..//assets/CleanShot 2023-02-01 at 14.20.47.png" alt=""><figcaption></figcaption></figure>



Select a Branch you wish to edit or set live and you will have the option to do so.&#x20;

![[Edit or Set Live a Branch.](<../.gitbook/assets/CleanShot 2021-11-03 at 17.18.49.png>)

When a Branch is set live, it is the Branch or version of your API endpoints and business logic that will be live for your users.&#x20;

If you wish to call an API endpoint from a Branch that is not live, you can do so by adding the branch name after the canonical, for example:

If the live branch is:

```
https://xb17-511e-40b9.xano.io/api:b4afb8/tutorial
```

You can access a different branch by adding :branch name after the canonical:

```
https://xb17-511e-40b9.xano.io/api:b4afb8:v2/tutorial
```

You can also use a [[Set Http Header](../the-function-stack/functions/utility-functions.md#http-header) function, to set the X-Branch header followed by the Branch name. For example:

```
X-Branch: v2
```

Setting this on an API endpoint would force that endpoint to call the v2 Branch version of the endpoint.&#x20;

### Know if the Branch you're editing is Live or not

While making changes in your workspace, you can differentiate if your Branch is live or not with the banner at the top of the UI all across Xano.

When editing a branch that isn't live, you will be presented with a banner such as the one below.

<figure><img src="..//assets/CleanShot 2023-07-31 at 11.32.07@2x.png" alt=""><figcaption></figcaption></figure>

When editing a Branch that is not live, the Swagger documentation and API Endpoint URL buttons will provide the version of that Branch and not the live Branch.&#x20;

To get the URL of the live Branch either remove the :branch name after the canonical or go to the live Branch.

## Compare Differences (Compare Branches)

Comparing differences allows you to see the differences between a source branch and a destination branch. Comparing differences gives you full context into what's going to change before you decide to [[merge branches](branching-and-merging.md#merging).

### How to compare branches

To compare branches, select **Compare Branches** from the branches menu.

<figure><img src="..//assets/CleanShot 2024-01-17 at 09.55.18.png" alt=""><figcaption><p>Compare Branches option.</p></figcaption></figure>

#### Step 1 - Select the branch to compare from

First, select the branch to compare from. This is considered the source branch.

<figure><img src="..//assets/CleanShot 2024-01-17 at 09.58.14.png" alt=""><figcaption><p>In this example, we will choose the "dev" branch to compare from.</p></figcaption></figure>

#### Step 2 - Select the destination branch to compare to.

Next, select the destination branch to compare to. If you were to merge, this is the branch to merge into.&#x20;

<Info>

Comparing mode will not commit to a merge, it's an opportunity to see and compare differences between the branches. You will only merge by selecting the merge option on the branches menu.

</Info>

<figure><img src="..//assets/CleanShot 2024-01-17 at 09.59.47.png" alt=""><figcaption><p>In this example, we will compare to the "prod" branch.</p></figcaption></figure>

#### Compare Branches

Lastly, the difference comparison opens showing everything that could merge into the destination branch and highlighting if anything is new or has changed.

<figure><img src="..//assets/CleanShot 2024-01-17 at 10.04.05.png" alt=""><figcaption><p>Comparing branches.</p></figcaption></figure>

Furthermore, selecting a new or changed item allows you to see a snapshot of the item for context into exactly what the new item contains or what has changed compared to the existing item.

<figure><img src="..//assets/CleanShot 2024-01-17 at 10.09.35.gif" alt=""><figcaption><p>See a snapshot of what's new or what changes were made.</p></figcaption></figure>

#### Changes

Changes are accompanied by a number in parentheses. This number identifies how many changes there are compared to the existing item in the destination branch.

<figure><img src="..//assets/CleanShot 2024-01-17 at 10.12.24.png" alt=""><figcaption><p>6 changes made to POST /stuff.</p></figcaption></figure>

By selecting changes next to the item, a snapshot opens showing exactly what the differences and changes are.

<figure><img src="..//assets/CleanShot 2024-01-17 at 10.14.34 (1).png" alt=""><figcaption><p>The changes made to POST /stuff.</p></figcaption></figure>

In the above screenshot we can see the six changes:

1. created\_at input deleted.
2. name input edited.
3. category input edited.
4. value input edited.
5. API Request added.
6. Create Variable added.

#### New

You can also see a snapshot of a new item. Everything in the item will be considered as added but it's insightful context for you to understand what you may be merging into another branch.

<figure><img src="..//assets/CleanShot 2024-01-17 at 10.18.03.png" alt=""><figcaption></figcaption></figure>

## Merging

{% embed url="https://www.youtube.com/watch?v=-sqCQBN0z_Q" %}

Merging Branches allows for seamless development management of different environments. It allows you to update a destination Branch with changes and updates created from a source Branch. Merging will include changes to published objects such as APIs, Functions, Addons, and Tasks, and newly created ones.&#x20;

For example, your live Branch is v1. You are editing v2, which has some new API endpoints for a new feature you are rolling out. During the development phase of v2, you had to modify an API endpoint in v1. When you're ready to merge v2 into v1, Xano will add the new API endpoints from v2 and maintain the update to the API endpoint on the destination v1 Branch.

### How to Merge

To merge Branches open the Branches menu by selecting the Branch name under the Workspace name in the left-hand navigation bar.



<figure><img src="..//assets/CleanShot 2023-07-31 at 11.26.25@2x.png" alt="" width="296"><figcaption></figcaption></figure>

Next, select **Merge Branches**.

<figure><img src="..//assets/CleanShot 2023-02-01 at 14.59.44.png" alt=""><figcaption><p>Select Merge Branches.</p></figcaption></figure>

After selecting Merge Branches, Xano will ask you to select the source Branch.

<Info>

**The Source Branch is the Branch containing the updates and modifications** that you want to merge into the Destination Branch.

</Info>

<figure><img src="..//assets/CleanShot 2023-02-01 at 15.00.22.png" alt=""><figcaption><p>Choose the Source Branch - the Branch with new changes or updates.</p></figcaption></figure>

Next, select the Destination Branch to merge the changes from the Source Branch. You can also choose if you would like the destination branch to be backed up prior to the merge.

<Info>

**The Destination Branch is the Branch where the updates will be merged into.**

</Info>

<figure><img src="..//assets/CleanShot 2023-02-14 at 13.22.13@2x.png" alt=""><figcaption><p>Select the Destination branch, and if you want the destination branch backed up before the merge</p></figcaption></figure>

Then, Xano will display a confirmation page with all the Workspace objects receiving updates or new items.

<figure><img src="..//assets/CleanShot 2023-02-14 at 13.23.50.png" alt=""><figcaption></figcaption></figure>

If there is a change you do not want to include in the merge, select the settings icon next to the Workspace object and deselect the change to remove it from the merge.

<figure><img src="..//assets/CleanShot 2023-02-01 at 15.14.44.png" alt=""><figcaption><p>Edit what's included in the merge.</p></figcaption></figure>

<figure><img src="..//assets/CleanShot 2023-02-01 at 15.15.09.png" alt=""><figcaption><p>Deselect specific changes to remove from the merge.</p></figcaption></figure>

Once satisfied with all the updates included in the merge select **publish** to merge the Branches.

<figure><img src="..//assets/CleanShot 2023-02-01 at 15.17.32.png" alt=""><figcaption><p>Select Publish to merge the Branches.</p></figcaption></figure>

## Dealing with Merge Conflicts

{% stepper %}
{% step %}
### Compare the differences between the branches to see where the conflict lies

Learn more about comparing branches [[here](branching-and-merging.md#compare-differences-compare-branches).
{% endstep %}

{% step %}
### If you receive a merge conflict notice but there is no apparent conflict, you might have a function stack with the same name, but a different GUID.

<Danger>

**If you aren't sure updating the GUID is necessary in your situation, please reach out to support before proceeding.**

</Danger>

Head to the settings of the function stack and choose **Security**.

<div align="left"><figure><img src="..//assets/CleanShot 2025-03-07 at 15.57.40.png" alt=""><figcaption></figcaption></figure></div>

You can update the GUID in the **destination branch** to match the function stack of the same name from the **source branch**&#x20;

<div align="left"><figure><img src="..//assets/CleanShot 2025-03-07 at 15.59.04.png" alt="" width="274"><figcaption></figcaption></figure></div>
{% endstep %}
{% endstepper %}





## Workspace Triggers

From your workspace settings, you have the option to enable triggers based on certain events.&#x20;

* Branch Live - Any time a branch status is set to live
* Branch Merge - When a branch is merged
* Branch New - When a new branch is created

From your Dashboard, access the menu from the top-right corner, and choose Triggers.

<figure><img src="..//assets/CleanShot 2024-06-11 at 17.28.22.png" alt="" width="181"><figcaption></figcaption></figure>

Choose 'Add Workspace Trigger' and provide the requested information. In the example below, we are creating a trigger called My Workspace Trigger that will run anytime a branch merge takes place, or a new branch is created.

<figure><img src="..//assets/CleanShot 2024-06-11 at 17.29.36.png" alt="" width="334"><figcaption></figcaption></figure>

Your Workspace Trigger will have three inputs defined. Inputs for triggers can not be modified.

* to\_branch - Information regarding the destination branch
* from\_branch - Information regarding the source branch
* action - The action taking place

Now that your trigger is set up, you can build a function stack that will run every time one of the actions selected takes place.

## Restoring a Branch Backup

{% embed url="https://youtu.be/AbXCEq4U_VY" %}

If after you have merged branches, you would like to restore from a backed up branch, click on the branches option, and check the "Include Backups" checkbox. This will show you all available backups, which you can then click and edit or set live just like any other branches. Setting live the backed up branch will allow you to quickly roll back to before the merge was made.

<figure><img src="..//assets/CleanShot 2023-02-14 at 13.27.29@2x.png" alt=""><figcaption><p>Use the Include Backups option to show backups made during branch merge.</p></figcaption></figure>